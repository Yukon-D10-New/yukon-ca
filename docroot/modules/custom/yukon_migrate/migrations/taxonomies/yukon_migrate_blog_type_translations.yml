id: yukon_migrate_blog_type_translations
label: Blog type taxonomy terms translations
migration_group: legacy_taxonomies
migration_tags:
  - Drupal 7
  - taxonomy
  - taxonomy translation
  - Ordered Migration

source:
  plugin: d7_term_localized_translation
  bundle: blog_type
  translations: true

process:
  tid:
    plugin: migration_lookup
    migration: yukon_migrate_blog_type
    source: tid
    no_stub: true
  langcode: ltlanguage
  name:
    -
      plugin: callback
      source:
        - name_translated
        - name
      callable: array_filter
    -
      plugin: callback
      callable: current
  description/value: 
    plugin: yukon_migrate_uri_transform
    method: transformUri
    source: description_translated
  description/format: constants/default_text_format
  
  field_agency_logo:
    plugin: migration_lookup
    source: field_agency_logo/0/fid
    migration: yukon_migrate_images
    no_stub: true

  field_featured_image:
    plugin: migration_lookup
    source: field_featured_image/0/fid
    migration: yukon_migrate_images
    no_stub: true

destination:
  plugin: entity:taxonomy_term
  default_bundle: blog_type
  translations: true

migration_dependencies:
  required:
    - yukon_migrate_blog_type
